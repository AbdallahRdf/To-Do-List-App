<%- include('./partials/head.ejs') %>

<body>
    <!-- alert for success -->
    <% if (typeof successMessage !== 'undefined' && successMessage) { %>
        <div class="alert bg-green-50 w-fit py-4 px-4 border border-green-800 rounded absolute top-0.5 right-0.5">
            <p class="text-base text-green-800 me-6"><%= successMessage %></p>
            <button class="x absolute text-green-800 text-2xl top-2 right-3">x</button>
        </div>
    <% } %>

    <!-- alert for error -->
    <% if (typeof failureMessage !== 'undefined' && failureMessage) { %>
        <div class="alert bg-red-50 w-fit py-4 px-4 border border-red-800 rounded absolute top-0.5 right-0.5">
            <p class="text-base text-red-800 me-6"><%= failureMessage %></p>
            <button class="x absolute text-red-800 text-2xl top-2 right-3">x</button>
        </div>
    <% } %>

    <div class="rounded border border-slate-400 flex flex-col items-center w-5/6 md:w-2/5 lg:w-1/3 mx-auto mt-32 px-4 py-8">
        <h2 class="text-xl md:text-2xl lg:text-3xl text-slate-600">You forgot your password</h2>
        <form action="/forgot_password" method="post" class="w-full">
            <div class="flex flex-col w-full my-3">
                <label class="mb-1 ms-2 text-slate-600" for="username">Enter your Email</label>
                <input class="rounded-full text-base border border-slate-500 py-2 px-4 me-1" type="email" name="email" placeholder="jong@gmail.com" id="email">
                <% if (typeof emailError !== 'undefined' && emailError) { %>
                    <span class="text-red-500 text-sm ms-2 mt-1"><%= emailError %></span>
                <% } %>
            </div>
            <div class="flex flex-col w-full my-3"><input class="rounded-full cursor-pointer bg-sky-600 hover:bg-sky-500 text-white py-2 px-4 text-lg mt-3 w-full" type="submit" value="Send reset password email"></div>
        </form>
    </div>
    <div class="mt-3">
        <p class="text-slate-500 text-center">Already have an account ?</p>
        <a class="underline underline-offset-1 hover:underline-offset-4 text-blue-500 block text-center font-semibold text-lg" href="/login">Log in</a>
    </div>

    <script>
        const xBtns = document.querySelectorAll(".x");

        for(xBtn of xBtns){
            xBtn.addEventListener("click", () => {
                const alert = xBtn.parentElement;
                alert.classList.add("hidden");                
            })
        }
    </script>
</body>
</html>